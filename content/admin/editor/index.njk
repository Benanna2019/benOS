---
layout: layouts/admin.njk
title: Content Editor
eleventyExcludeFromCollections: true
---

<style>
  /* Auth check visibility logic */
  [data-auth-state="loading"] [data-editor-wrapper],
  [data-auth-state="logged-out"] [data-editor-wrapper],
  [data-auth-state="denied"] [data-editor-wrapper] {
    display: none;
  }
  
  [data-auth-state="loading"] [data-auth-check],
  [data-auth-state="logged-out"] [data-auth-check],
  [data-auth-state="denied"] [data-auth-check] {
    display: block;
  }
  
  [data-auth-state="logged-in"] [data-auth-check] {
    display: none;
  }
  
  [data-auth-state="logged-in"] [data-editor-wrapper] {
    display: block;
  }
</style>

<div data-auth-state="loading" style="height: 100%;">
  
  <div data-auth-check class="not-admin-message">
    <h2>Loading...</h2>
    <p>Checking permissions...</p>
  </div>
  
  <div data-editor-wrapper style="height: 100%;">
    {% enhance %}
      <content-editor></content-editor>
    {% endenhance %}
  </div>
</div>

<script>
  // Layout already handles auth - just show content
  const container = document.querySelector('[data-auth-state]');
  container.setAttribute('data-auth-state', 'logged-in');
</script>
