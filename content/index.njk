---js
const eleventyNavigation = {
	key: "Home",
	order: 1
};
---

{# --- HERO SECTION --- #}
{% set featuredPost = collections.articles | reverse | first %}
{% if featuredPost %}
<div class="hero">
	<img src="{{ featuredPost.data.image | resolvePostImage(featuredPost.url) or '/images/random.jpg' }}" alt="" class="hero-image">
	<div class="hero-content">
		<div class="article-tags" style="margin-bottom: 1rem;">
			{% for tag in featuredPost.data.tags | filterTagList %}
				<a href="/tags/{{ tag | slugify }}/" class="post-tag">{{ tag }}</a>
			{% endfor %}
		</div>
		<h1><a href="{{ featuredPost.url }}">{{ featuredPost.data.title }}</a></h1>
		<div class="article-meta">
			By {{ featuredPost.data.author or "Ben Patton" }} / {{ featuredPost.date | readableDate }}
		</div>
		<p>{{ featuredPost.data.description }}</p>
	</div>
</div>
{% endif %}

{# --- LATEST ARTICLES --- #}
<div class="container">
	<div style="border-bottom: 2px solid var(--color-text-main); margin-bottom: 2rem; display: flex; justify-content: space-between; align-items: flex-end;">
		<h2 class="mt-0 mb-0" style="font-size: 1rem; letter-spacing: 0.1em; text-transform: uppercase;">Latest Stories</h2>
		<a href="/articles/" class="btn">View All >></a>
	</div>

	<div class="grid-3">
		{% set posts = collections.articles | reverse  %}
		{% for post in posts %}
		<article class="article-card">
			<a href="{{ post.url }}">
				<img src="{{ post.data.image | resolvePostImage(post.url) or '/images/random.jpg' }}" alt="" class="article-card-image">
			</a>
			
			<div class="article-tags">
				{% for tag in post.data.tags | filterTagList %}
					<a href="/tags/{{ tag | slugify }}/" class="post-tag">{{ tag }}</a>
				{% endfor %}
			</div>
			
			<h3 class="article-title"><a href="{{ post.url }}">{{ post.data.title }}</a></h3>
			<div class="article-meta">
				{{ post.date | readableDate }}
			</div>
		</article>
		{% endfor %}
	</div>
</div>

{# --- TECH BLOG SECTION --- #}
<div class="container" style="background: var(--color-bg-white); padding: 3rem; margin-top: 4rem; border: 1px solid var(--color-border);">
	<div style="border-bottom: 2px solid var(--color-text-main); margin-bottom: 2rem; display: flex; justify-content: space-between; align-items: flex-end;">
		<h2 class="mt-0 mb-0" style="font-size: 1rem; letter-spacing: 0.1em; text-transform: uppercase;">Tech Blog</h2>
		<a href="/tech-blog/" class="btn">View All >></a>
	</div>

	<div class="grid-3">
		{% set posts = collections.techPosts | reverse | head(3) %}
		{% for post in posts %}
		<article class="article-card" style="border: none;">
			<div class="article-tags">
				{% for tag in post.data.tags | filterTagList %}
					<a href="/tags/{{ tag | slugify }}/" class="post-tag">{{ tag }}</a>
				{% endfor %}
			</div>
			
			<h3 class="article-title" style="font-size: 1.25rem;"><a href="{{ post.url }}">{{ post.data.title }}</a></h3>
			<p style="font-size: 0.9rem; margin-bottom: 0.5rem;">{{ post.data.description }}</p>
			<div class="article-meta">
				{{ post.date | readableDate }}
			</div>
		</article>
		{% endfor %}
	</div>
</div>
